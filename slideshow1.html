<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Fullscreen Slideshow â€“ Segment Timer + Links</title>
  <style>
    html,body{margin:0;height:100%;background:#fff;overflow:hidden;}
    .frame{position:fixed;inset:0;border-radius:20px;overflow:hidden;background:#000;}

    /* slides */
    .slideshow{position:absolute;inset:0;}
    .slide{position:absolute;inset:0;opacity:0;transition:opacity .4s linear;pointer-events:none;}
    .slide.active{opacity:1;pointer-events:auto;}
    .slide img{width:100%;height:100%;object-fit:cover;display:block;}

    /* segment timer */
    .segments{position:fixed;bottom:32px;left:50%;transform:translateX(-50%);display:flex;gap:4px;width:300px;z-index:20;}
    .seg{flex:1 1 0;height:3px;background:#fff3;border-radius:2px;overflow:hidden;cursor:pointer;}
    .fill{width:0;height:100%;background:#fff;}
    @keyframes fill{from{width:0}to{width:100%}}
  </style>
</head>
<body>
  <div class="frame"><div class="slideshow" id="show"></div></div>
  <div class="segments" id="segs"></div>

  <script>
    /* project list with image + target URL */
    const projects=[
      {img:'rayscape1.png',url:'https://www.looksmatter.studio/rayscape-looksmatter-studio'},
      {img:'renergia1.png',url:'https://www.looksmatter.studio/renergia-looksmatter-studio'},
      {img:'nexdoo1.png',url:'https://www.looksmatter.studio/nexdoo-looksmatter-studio'},
      {img:'wunderpark1.png',url:'https://www.looksmatter.studio/wunderpark-looksmatter-studio'},
      {img:'globalairlines1.png',url:'https://www.looksmatter.studio/global-airlines-looksmatter-studio'}
    ];

    const delay=7000; // ms per slide

    const show=document.getElementById('show');
    const segsWrap=document.getElementById('segs');

    /* build slides + segments */
    projects.forEach((p,idx)=>{
      // slide link
      const link=document.createElement('a');
      link.className='slide';
      link.href=p.url;
      link.target='_blank';
      link.rel='noopener';
      link.innerHTML=`<img src="${p.img}" alt="project ${idx+1}">`;
      show.appendChild(link);

      // segment
      const seg=document.createElement('div');
      seg.className='seg';
      seg.innerHTML='<div class="fill"></div>';
      seg.onclick=()=>showSlide(idx);
      segsWrap.appendChild(seg);
    });

    const slides=[...document.querySelectorAll('.slide')];
    const segs=[...document.querySelectorAll('.seg')];
    let i=0;let timer;

    function showSlide(n){
      i=(n+slides.length)%slides.length;
      slides.forEach((s,k)=>s.classList.toggle('active',k===i));
      updateSegments();
      restartTimer();
    }

    function next(n=1){showSlide(i+n);} // autoplay & keys

    function updateSegments(){
      segs.forEach((seg,k)=>{
        const fill=seg.firstElementChild;
        fill.style.animation='none';
        fill.style.width=k<i?'100%':'0';
      });
      const activeFill=segs[i].firstElementChild;
      void activeFill.offsetWidth; // force reflow to restart animation
      activeFill.style.animation=`fill ${delay}ms linear forwards`;
    }

    function restartTimer(){
      clearInterval(timer);
      timer=setInterval(()=>next(1),delay);
    }

    // init
    showSlide(0);

    // keyboard navigation
    window.addEventListener('keydown',e=>{
      if(e.key==='ArrowLeft')next(-1);
      if(e.key==='ArrowRight')next(1);
    });
  </script>
</body>
</html>
