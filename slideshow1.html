<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Fullscreen Slideshow – Segment Timer</title>
  <style>
    html,body{margin:0;height:100%;background:#fff;overflow:hidden;}
    .frame{position:fixed;inset:0;border-radius:20px;overflow:hidden;background:#000;}

    /* slides */
    .slideshow{position:absolute;inset:0;}
    .slide{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;opacity:0;transition:opacity .4s linear;}
    .slide.active{opacity:1;}

    /* segment timer (like stories) */
    .segments{position:fixed;bottom:32px;left:50%;transform:translateX(-50%);display:flex;gap:6px;width:180px;z-index:20;}
    .seg{flex:1 1 0;height:4px;background:#fff3;border-radius:2px;overflow:hidden;}
    .fill{width:0;height:100%;background:#fff;}
    @keyframes fill{from{width:0}to{width:100%}}
  </style>
</head>
<body>
  <div class="frame"><div class="slideshow" id="show"></div></div>
  <div class="segments" id="segs"></div>

  <script>
    const images=['rayscape1.png','renergia1.png','nexdoo1.png','wunderpark1.png','globalairlines1.png'];
    const delay=7000; // ms per slide

    const show=document.getElementById('show');
    const segsWrap=document.getElementById('segs');

    /* build slides + segments */
    images.forEach((src,idx)=>{
      /* slide */
      const img=document.createElement('img');
      img.src=src;img.className='slide';show.appendChild(img);

      /* segment */
      const seg=document.createElement('div');
      seg.className='seg';
      seg.innerHTML='<div class="fill"></div>';
      seg.onclick=()=>showSlide(idx);
      segsWrap.appendChild(seg);
    });

    const slides=[...document.querySelectorAll('.slide')];
    const segs=[...document.querySelectorAll('.seg')];
    let i=0;let timer;

    function showSlide(n){
      i=(n+slides.length)%slides.length;
      slides.forEach((s,k)=>s.classList.toggle('active',k===i));
      updateSegments();
      restartTimer();
    }

    function next(n=1){showSlide(i+n);} // autoplay & keys

    function updateSegments(){
      segs.forEach((seg,k)=>{
        const fill=seg.firstElementChild;
        fill.style.animation='none';
        fill.style.width=k<i? '100%' : '0'; // past slides filled, future empty
      });
      // active segment animate
      const activeFill=segs[i].firstElementChild;
      void activeFill.offsetWidth; // reflow
      activeFill.style.animation=`fill ${delay}ms linear forwards`;
    }

    function restartTimer(){
      clearInterval(timer);
      timer=setInterval(()=>next(1),delay);
    }

    /* init */
    showSlide(0);

    /* keyboard nav */
    window.addEventListener('keydown',e=>{if(e.key==='ArrowLeft')next(-1);if(e.key==='ArrowRight')next(1);});
  </script>
</body>
</html>
